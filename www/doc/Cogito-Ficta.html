<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Cogito.Ficta</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Cogito.Ficta.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">arca-0.1.0.0</p></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>(c) Andrew A. Cashner 2021</td></tr><tr><th>Maintainer</th><td>Andrew Cashner, &lt;andrew.cashner@rochester.edu&gt;</td></tr><tr><th>Stability</th><td>Experimental</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Cogito.Ficta</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Adjust accidentals of individual pitches</a></li><li><a href="#g:2">Utilities to adjust pitches by <code>MusicSection</code></a></li><li><a href="#g:3">Apply <em>ficta</em> adjustments to whole <code>MusicPhrase</code>s</a><ul><li><a href="#g:4">Specific adjustments by rule</a></li></ul></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module provides functions to adjust music created by the ark to follow conventions of <em>musica ficta</em>.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:changeNotePitch">changeNotePitch</a> :: <a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a> -&gt; <a href="Aedifico.html#t:Pitch" title="Aedifico">Pitch</a> -&gt; <a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a></li><li class="src short"><a href="#v:adjustNotePitch">adjustNotePitch</a> :: (<a href="Aedifico.html#t:Pitch" title="Aedifico">Pitch</a> -&gt; <a href="Aedifico.html#t:Pitch" title="Aedifico">Pitch</a>) -&gt; <a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a> -&gt; <a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a></li><li class="src short"><a href="#v:accidentalShift">accidentalShift</a> :: <a href="Aedifico.html#t:Pitch" title="Aedifico">Pitch</a> -&gt; <a href="Aedifico.html#t:Accid" title="Aedifico">Accid</a> -&gt; <a href="Aedifico.html#t:Pitch" title="Aedifico">Pitch</a></li><li class="src short"><a href="#v:flatten">flatten</a> :: <a href="Aedifico.html#t:Pitch" title="Aedifico">Pitch</a> -&gt; <a href="Aedifico.html#t:Pitch" title="Aedifico">Pitch</a></li><li class="src short"><a href="#v:sharpen">sharpen</a> :: <a href="Aedifico.html#t:Pitch" title="Aedifico">Pitch</a> -&gt; <a href="Aedifico.html#t:Pitch" title="Aedifico">Pitch</a></li><li class="src short"><a href="#v:changeAccid">changeAccid</a> :: <a href="Aedifico.html#t:Pitch" title="Aedifico">Pitch</a> -&gt; <a href="Aedifico.html#t:Accid" title="Aedifico">Accid</a> -&gt; <a href="Aedifico.html#t:AccidType" title="Aedifico">AccidType</a> -&gt; <a href="Aedifico.html#t:Pitch" title="Aedifico">Pitch</a></li><li class="src short"><a href="#v:cancel">cancel</a> :: <a href="Aedifico.html#t:Pitch" title="Aedifico">Pitch</a> -&gt; <a href="Aedifico.html#t:Pitch" title="Aedifico">Pitch</a></li><li class="src short"><a href="#v:noteCancel">noteCancel</a> :: <a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a> -&gt; <a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a></li><li class="src short"><a href="#v:fictaAccid">fictaAccid</a> :: <a href="Aedifico.html#t:Pitch" title="Aedifico">Pitch</a> -&gt; <a href="Aedifico.html#t:Pitch" title="Aedifico">Pitch</a></li><li class="src short"><a href="#v:writeAccid">writeAccid</a> :: <a href="Aedifico.html#t:Pitch" title="Aedifico">Pitch</a> -&gt; <a href="Aedifico.html#t:Pitch" title="Aedifico">Pitch</a></li><li class="src short"><a href="#v:adjustNotesInSection">adjustNotesInSection</a> :: ([<a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a>] -&gt; [<a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a>]) -&gt; <a href="Cogito-Musarithmetic.html#t:MusicSection" title="Cogito.Musarithmetic">MusicSection</a> -&gt; <a href="Cogito-Musarithmetic.html#t:MusicSection" title="Cogito.Musarithmetic">MusicSection</a></li><li class="src short"><a href="#v:changeNotesInPhrase">changeNotesInPhrase</a> :: <a href="Cogito-Musarithmetic.html#t:MusicPhrase" title="Cogito.Musarithmetic">MusicPhrase</a> -&gt; [<a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a>] -&gt; <a href="Cogito-Musarithmetic.html#t:MusicPhrase" title="Cogito.Musarithmetic">MusicPhrase</a></li><li class="src short"><a href="#v:adjustNotesInPhrase">adjustNotesInPhrase</a> :: ([<a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a>] -&gt; [<a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a>]) -&gt; <a href="Cogito-Musarithmetic.html#t:MusicPhrase" title="Cogito.Musarithmetic">MusicPhrase</a> -&gt; <a href="Cogito-Musarithmetic.html#t:MusicPhrase" title="Cogito.Musarithmetic">MusicPhrase</a></li><li class="src short"><a href="#v:fixFictaInSection">fixFictaInSection</a> :: ([<a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a>] -&gt; <a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a> -&gt; [<a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a>]) -&gt; <a href="Cogito-Musarithmetic.html#t:MusicSection" title="Cogito.Musarithmetic">MusicSection</a> -&gt; <a href="Cogito-Musarithmetic.html#t:MusicSection" title="Cogito.Musarithmetic">MusicSection</a></li><li class="src short"><a href="#v:fixFictaInPhrase">fixFictaInPhrase</a> :: ([<a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a>] -&gt; <a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a> -&gt; [<a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a>]) -&gt; <a href="Cogito-Musarithmetic.html#t:MusicPhrase" title="Cogito.Musarithmetic">MusicPhrase</a> -&gt; <a href="Cogito-Musarithmetic.html#t:MusicPhrase" title="Cogito.Musarithmetic">MusicPhrase</a></li><li class="src short"><a href="#v:foldStack">foldStack</a> :: ([a] -&gt; a -&gt; [a]) -&gt; [a] -&gt; [a]</li><li class="src short"><a href="#v:findCounterpoint">findCounterpoint</a> :: <a href="Cogito-Musarithmetic.html#t:MusicPhrase" title="Cogito.Musarithmetic">MusicPhrase</a> -&gt; <a href="Cogito-Musarithmetic.html#t:MusicPhrase" title="Cogito.Musarithmetic">MusicPhrase</a> -&gt; <a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a></li><li class="src short"><a href="#v:durQuantity">durQuantity</a> :: <a href="Aedifico.html#t:Dur" title="Aedifico">Dur</a> -&gt; <a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li class="src short"><a href="#v:adjustFictaChorus">adjustFictaChorus</a> :: <a href="Aedifico.html#t:ModeSystem" title="Aedifico">ModeSystem</a> -&gt; <a href="Aedifico.html#t:ModeList" title="Aedifico">ModeList</a> -&gt; <a href="Cogito-Musarithmetic.html#t:MusicChorus" title="Cogito.Musarithmetic">MusicChorus</a> -&gt; <a href="Cogito-Musarithmetic.html#t:MusicChorus" title="Cogito.Musarithmetic">MusicChorus</a></li><li class="src short"><a href="#v:adjustPhrasesInSection">adjustPhrasesInSection</a> :: (<a href="Cogito-Musarithmetic.html#t:MusicPhrase" title="Cogito.Musarithmetic">MusicPhrase</a> -&gt; <a href="Cogito-Musarithmetic.html#t:MusicPhrase" title="Cogito.Musarithmetic">MusicPhrase</a> -&gt; <a href="Cogito-Musarithmetic.html#t:MusicPhrase" title="Cogito.Musarithmetic">MusicPhrase</a>) -&gt; <a href="Cogito-Musarithmetic.html#t:MusicSection" title="Cogito.Musarithmetic">MusicSection</a> -&gt; <a href="Cogito-Musarithmetic.html#t:MusicSection" title="Cogito.Musarithmetic">MusicSection</a> -&gt; <a href="Cogito-Musarithmetic.html#t:MusicSection" title="Cogito.Musarithmetic">MusicSection</a></li><li class="src short"><a href="#v:adjustFictaPhrase">adjustFictaPhrase</a> :: <a href="Aedifico.html#t:ModeList" title="Aedifico">ModeList</a> -&gt; <a href="Aedifico.html#t:Mode" title="Aedifico">Mode</a> -&gt; <a href="Cogito-Musarithmetic.html#t:MusicPhrase" title="Cogito.Musarithmetic">MusicPhrase</a> -&gt; <a href="Cogito-Musarithmetic.html#t:MusicPhrase" title="Cogito.Musarithmetic">MusicPhrase</a> -&gt; <a href="Cogito-Musarithmetic.html#t:MusicPhrase" title="Cogito.Musarithmetic">MusicPhrase</a></li><li class="src short"><a href="#v:scaleDegree">scaleDegree</a> :: <a href="Aedifico.html#t:ModeList" title="Aedifico">ModeList</a> -&gt; <a href="Aedifico.html#t:Mode" title="Aedifico">Mode</a> -&gt; <a href="Aedifico.html#t:Pitch" title="Aedifico">Pitch</a> -&gt; <a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li class="src short"><a href="#v:isFictaAccid">isFictaAccid</a> :: <a href="Aedifico.html#t:Accid" title="Aedifico">Accid</a> -&gt; <a href="Aedifico.html#t:Pitch" title="Aedifico">Pitch</a> -&gt; <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:isFictaAccidNote">isFictaAccidNote</a> :: <a href="Aedifico.html#t:Accid" title="Aedifico">Accid</a> -&gt; <a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a> -&gt; <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:fixIntervals">fixIntervals</a> :: <a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a> -&gt; <a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a> -&gt; <a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a></li><li class="src short"><a href="#v:fixUpperVoiceIntervals">fixUpperVoiceIntervals</a> :: <a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a> -&gt; <a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a> -&gt; <a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a></li><li class="src short"><a href="#v:isCrossRelation">isCrossRelation</a> :: <a href="Aedifico.html#t:Pitch" title="Aedifico">Pitch</a> -&gt; <a href="Aedifico.html#t:Pitch" title="Aedifico">Pitch</a> -&gt; <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:isAugFifth">isAugFifth</a> :: <a href="Aedifico.html#t:Pitch" title="Aedifico">Pitch</a> -&gt; <a href="Aedifico.html#t:Pitch" title="Aedifico">Pitch</a> -&gt; <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:isTritone">isTritone</a> :: <a href="Aedifico.html#t:Pitch" title="Aedifico">Pitch</a> -&gt; <a href="Aedifico.html#t:Pitch" title="Aedifico">Pitch</a> -&gt; <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:adjustBassFicta">adjustBassFicta</a> :: <a href="Aedifico.html#t:ModeSystem" title="Aedifico">ModeSystem</a> -&gt; <a href="Aedifico.html#t:ModeList" title="Aedifico">ModeList</a> -&gt; <a href="Aedifico.html#t:Mode" title="Aedifico">Mode</a> -&gt; <a href="Cogito-Musarithmetic.html#t:MusicSection" title="Cogito.Musarithmetic">MusicSection</a> -&gt; <a href="Cogito-Musarithmetic.html#t:MusicSection" title="Cogito.Musarithmetic">MusicSection</a></li><li class="src short"><a href="#v:fixMelodicTritone">fixMelodicTritone</a> :: <a href="Aedifico.html#t:ModeSystem" title="Aedifico">ModeSystem</a> -&gt; <a href="Aedifico.html#t:Mode" title="Aedifico">Mode</a> -&gt; [<a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a>] -&gt; <a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a> -&gt; [<a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a>]</li><li class="src short"><a href="#v:fixSixSeven">fixSixSeven</a> :: <a href="Aedifico.html#t:ModeList" title="Aedifico">ModeList</a> -&gt; <a href="Aedifico.html#t:Mode" title="Aedifico">Mode</a> -&gt; [<a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a>] -&gt; <a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a> -&gt; [<a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a>]</li><li class="src short"><a href="#v:cancelNote">cancelNote</a> :: <a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a> -&gt; <a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a></li><li class="src short"><a href="#v:fixFlatSharp">fixFlatSharp</a> :: [<a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a>] -&gt; <a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a> -&gt; [<a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a>]</li><li class="src short"><a href="#v:fixAccidRepeat">fixAccidRepeat</a> :: [<a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a>] -&gt; <a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a> -&gt; [<a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a>]</li><li class="src short"><a href="#v:fixLeadingTonesInPhrase">fixLeadingTonesInPhrase</a> :: <a href="Aedifico.html#t:ModeList" title="Aedifico">ModeList</a> -&gt; <a href="Aedifico.html#t:Mode" title="Aedifico">Mode</a> -&gt; <a href="Cogito-Musarithmetic.html#t:MusicPhrase" title="Cogito.Musarithmetic">MusicPhrase</a> -&gt; <a href="Cogito-Musarithmetic.html#t:MusicPhrase" title="Cogito.Musarithmetic">MusicPhrase</a> -&gt; <a href="Cogito-Musarithmetic.html#t:MusicPhrase" title="Cogito.Musarithmetic">MusicPhrase</a></li><li class="src short"><a href="#v:fixLeadingTonePairs">fixLeadingTonePairs</a> :: <a href="Aedifico.html#t:ModeList" title="Aedifico">ModeList</a> -&gt; <a href="Aedifico.html#t:Mode" title="Aedifico">Mode</a> -&gt; [(<a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a>, <a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a>)] -&gt; (<a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a>, <a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a>) -&gt; [(<a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a>, <a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a>)]</li><li class="src short"><a href="#v:sharpLeadingTone">sharpLeadingTone</a> :: <a href="Aedifico.html#t:ModeList" title="Aedifico">ModeList</a> -&gt; <a href="Aedifico.html#t:Mode" title="Aedifico">Mode</a> -&gt; <a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a> -&gt; <a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a> -&gt; <a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a> -&gt; <a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a></li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Adjust accidentals of individual pitches</h1></a><div class="top"><p class="src"><a id="v:changeNotePitch" class="def">changeNotePitch</a> :: <a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a> -&gt; <a href="Aedifico.html#t:Pitch" title="Aedifico">Pitch</a> -&gt; <a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a> <a href="src/Cogito.Ficta.html#changeNotePitch" class="link">Source</a> <a href="#v:changeNotePitch" class="selflink">#</a></p><div class="doc"><p>Copy a <code><a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a></code> but change the <code><a href="Aedifico.html#t:Pitch" title="Aedifico">Pitch</a></code></p></div></div><div class="top"><p class="src"><a id="v:adjustNotePitch" class="def">adjustNotePitch</a> :: (<a href="Aedifico.html#t:Pitch" title="Aedifico">Pitch</a> -&gt; <a href="Aedifico.html#t:Pitch" title="Aedifico">Pitch</a>) -&gt; <a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a> -&gt; <a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a> <a href="src/Cogito.Ficta.html#adjustNotePitch" class="link">Source</a> <a href="#v:adjustNotePitch" class="selflink">#</a></p><div class="doc"><p>Copy a <code><a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a></code> but adjust just its <code><a href="Aedifico.html#t:Pitch" title="Aedifico">Pitch</a></code> according to a function.</p></div></div><div class="top"><p class="src"><a id="v:accidentalShift" class="def">accidentalShift</a> :: <a href="Aedifico.html#t:Pitch" title="Aedifico">Pitch</a> -&gt; <a href="Aedifico.html#t:Accid" title="Aedifico">Accid</a> -&gt; <a href="Aedifico.html#t:Pitch" title="Aedifico">Pitch</a> <a href="src/Cogito.Ficta.html#accidentalShift" class="link">Source</a> <a href="#v:accidentalShift" class="selflink">#</a></p><div class="doc"><p>Adjust the accidental either toward flats or toward sharps, within the
 <code><a href="Aedifico.html#t:Accid" title="Aedifico">Accid</a></code> enum. If the accidental is unset we just return the original pitch.
 We are treating all accidental shifts as <em>musica ficta</em> and giving a
 <code><a href="Aedifico.html#v:Suggested" title="Aedifico">Suggested</a></code> <code><a href="Aedifico.html#v:accidType" title="Aedifico">accidType</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:flatten" class="def">flatten</a> :: <a href="Aedifico.html#t:Pitch" title="Aedifico">Pitch</a> -&gt; <a href="Aedifico.html#t:Pitch" title="Aedifico">Pitch</a> <a href="src/Cogito.Ficta.html#flatten" class="link">Source</a> <a href="#v:flatten" class="selflink">#</a></p><div class="doc"><p>Lower a pitch a semitone, but not past <code><a href="Aedifico.html#v:FlFl" title="Aedifico">FlFl</a></code></p></div></div><div class="top"><p class="src"><a id="v:sharpen" class="def">sharpen</a> :: <a href="Aedifico.html#t:Pitch" title="Aedifico">Pitch</a> -&gt; <a href="Aedifico.html#t:Pitch" title="Aedifico">Pitch</a> <a href="src/Cogito.Ficta.html#sharpen" class="link">Source</a> <a href="#v:sharpen" class="selflink">#</a></p><div class="doc"><p>Raise a pitch a semitone, but not past <code><a href="Aedifico.html#v:ShSh" title="Aedifico">ShSh</a></code></p></div></div><div class="top"><p class="src"><a id="v:changeAccid" class="def">changeAccid</a> :: <a href="Aedifico.html#t:Pitch" title="Aedifico">Pitch</a> -&gt; <a href="Aedifico.html#t:Accid" title="Aedifico">Accid</a> -&gt; <a href="Aedifico.html#t:AccidType" title="Aedifico">AccidType</a> -&gt; <a href="Aedifico.html#t:Pitch" title="Aedifico">Pitch</a> <a href="src/Cogito.Ficta.html#changeAccid" class="link">Source</a> <a href="#v:changeAccid" class="selflink">#</a></p><div class="doc"><p>Copy pitch but change <code><a href="Aedifico.html#v:accid" title="Aedifico">accid</a></code> and <code><a href="Aedifico.html#v:accidType" title="Aedifico">accidType</a></code></p></div></div><div class="top"><p class="src"><a id="v:cancel" class="def">cancel</a> :: <a href="Aedifico.html#t:Pitch" title="Aedifico">Pitch</a> -&gt; <a href="Aedifico.html#t:Pitch" title="Aedifico">Pitch</a> <a href="src/Cogito.Ficta.html#cancel" class="link">Source</a> <a href="#v:cancel" class="selflink">#</a></p><div class="doc"><p>Cancel an accidental (suggested)</p></div></div><div class="top"><p class="src"><a id="v:noteCancel" class="def">noteCancel</a> :: <a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a> -&gt; <a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a> <a href="src/Cogito.Ficta.html#noteCancel" class="link">Source</a> <a href="#v:noteCancel" class="selflink">#</a></p><div class="doc"><p>Cancel the <code><a href="Aedifico.html#t:Pitch" title="Aedifico">Pitch</a></code> within a <code><a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:fictaAccid" class="def">fictaAccid</a> :: <a href="Aedifico.html#t:Pitch" title="Aedifico">Pitch</a> -&gt; <a href="Aedifico.html#t:Pitch" title="Aedifico">Pitch</a> <a href="src/Cogito.Ficta.html#fictaAccid" class="link">Source</a> <a href="#v:fictaAccid" class="selflink">#</a></p><div class="doc"><p>Make <code><a href="Aedifico.html#v:accidType" title="Aedifico">accidType</a></code> <code><a href="Aedifico.html#v:Suggested" title="Aedifico">Suggested</a></code></p></div></div><div class="top"><p class="src"><a id="v:writeAccid" class="def">writeAccid</a> :: <a href="Aedifico.html#t:Pitch" title="Aedifico">Pitch</a> -&gt; <a href="Aedifico.html#t:Pitch" title="Aedifico">Pitch</a> <a href="src/Cogito.Ficta.html#writeAccid" class="link">Source</a> <a href="#v:writeAccid" class="selflink">#</a></p><div class="doc"><p>Make <code><a href="Aedifico.html#v:accidType" title="Aedifico">accidType</a></code> <code><a href="Aedifico.html#v:Written" title="Aedifico">Written</a></code></p></div></div><a href="#g:2" id="g:2"><h1>Utilities to adjust pitches by <code><a href="Cogito-Musarithmetic.html#t:MusicSection" title="Cogito.Musarithmetic">MusicSection</a></code></h1></a><div class="top"><p class="src"><a id="v:adjustNotesInSection" class="def">adjustNotesInSection</a> :: ([<a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a>] -&gt; [<a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a>]) -&gt; <a href="Cogito-Musarithmetic.html#t:MusicSection" title="Cogito.Musarithmetic">MusicSection</a> -&gt; <a href="Cogito-Musarithmetic.html#t:MusicSection" title="Cogito.Musarithmetic">MusicSection</a> <a href="src/Cogito.Ficta.html#adjustNotesInSection" class="link">Source</a> <a href="#v:adjustNotesInSection" class="selflink">#</a></p><div class="doc"><p>Do something to the <code><a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a></code>s in every <code><a href="Cogito-Musarithmetic.html#t:MusicPhrase" title="Cogito.Musarithmetic">MusicPhrase</a></code> within a <code><a href="Cogito-Musarithmetic.html#t:MusicSection" title="Cogito.Musarithmetic">MusicSection</a></code></p></div></div><div class="top"><p class="src"><a id="v:changeNotesInPhrase" class="def">changeNotesInPhrase</a> :: <a href="Cogito-Musarithmetic.html#t:MusicPhrase" title="Cogito.Musarithmetic">MusicPhrase</a> -&gt; [<a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a>] -&gt; <a href="Cogito-Musarithmetic.html#t:MusicPhrase" title="Cogito.Musarithmetic">MusicPhrase</a> <a href="src/Cogito.Ficta.html#changeNotesInPhrase" class="link">Source</a> <a href="#v:changeNotesInPhrase" class="selflink">#</a></p><div class="doc"><p>Copy a <code><a href="Cogito-Musarithmetic.html#t:MusicPhrase" title="Cogito.Musarithmetic">MusicPhrase</a></code> but with new notes</p></div></div><div class="top"><p class="src"><a id="v:adjustNotesInPhrase" class="def">adjustNotesInPhrase</a> :: ([<a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a>] -&gt; [<a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a>]) -&gt; <a href="Cogito-Musarithmetic.html#t:MusicPhrase" title="Cogito.Musarithmetic">MusicPhrase</a> -&gt; <a href="Cogito-Musarithmetic.html#t:MusicPhrase" title="Cogito.Musarithmetic">MusicPhrase</a> <a href="src/Cogito.Ficta.html#adjustNotesInPhrase" class="link">Source</a> <a href="#v:adjustNotesInPhrase" class="selflink">#</a></p><div class="doc"><p>Do something to the <code><a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a></code> list in a <code><a href="Cogito-Musarithmetic.html#t:MusicPhrase" title="Cogito.Musarithmetic">MusicPhrase</a></code></p></div></div><div class="top"><p class="src"><a id="v:fixFictaInSection" class="def">fixFictaInSection</a> <a href="src/Cogito.Ficta.html#fixFictaInSection" class="link">Source</a> <a href="#v:fixFictaInSection" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: ([<a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a>] -&gt; <a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a> -&gt; [<a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a>])</td><td class="doc"><p>fold function (arguments: stack and new item)</p></td></tr><tr><td class="src">-&gt; <a href="Cogito-Musarithmetic.html#t:MusicSection" title="Cogito.Musarithmetic">MusicSection</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Cogito-Musarithmetic.html#t:MusicSection" title="Cogito.Musarithmetic">MusicSection</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Fold a ficta-adjusting function over a <code><a href="Cogito-Musarithmetic.html#t:MusicSection" title="Cogito.Musarithmetic">MusicSection</a></code></p></div></div><div class="top"><p class="src"><a id="v:fixFictaInPhrase" class="def">fixFictaInPhrase</a> <a href="src/Cogito.Ficta.html#fixFictaInPhrase" class="link">Source</a> <a href="#v:fixFictaInPhrase" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: ([<a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a>] -&gt; <a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a> -&gt; [<a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a>])</td><td class="doc"><p>fold function (arguments: stack and new item)</p></td></tr><tr><td class="src">-&gt; <a href="Cogito-Musarithmetic.html#t:MusicPhrase" title="Cogito.Musarithmetic">MusicPhrase</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Cogito-Musarithmetic.html#t:MusicPhrase" title="Cogito.Musarithmetic">MusicPhrase</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Fold a ficta-adjusting function over a <code><a href="Cogito-Musarithmetic.html#t:MusicPhrase" title="Cogito.Musarithmetic">MusicPhrase</a></code></p></div></div><div class="top"><p class="src"><a id="v:foldStack" class="def">foldStack</a> <a href="src/Cogito.Ficta.html#foldStack" class="link">Source</a> <a href="#v:foldStack" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: ([a] -&gt; a -&gt; [a])</td><td class="doc"><p>fold function (arguments: stack and new item)</p></td></tr><tr><td class="src">-&gt; [a] -&gt; [a]</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Generate a stack folding function to process a list </p></div></div><div class="top"><p class="src"><a id="v:findCounterpoint" class="def">findCounterpoint</a> <a href="src/Cogito.Ficta.html#findCounterpoint" class="link">Source</a> <a href="#v:findCounterpoint" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Cogito-Musarithmetic.html#t:MusicPhrase" title="Cogito.Musarithmetic">MusicPhrase</a></td><td class="doc"><p>phrase to search for counterpoint</p></td></tr><tr><td class="src">-&gt; <a href="Cogito-Musarithmetic.html#t:MusicPhrase" title="Cogito.Musarithmetic">MusicPhrase</a></td><td class="doc"><p>phrase containing the point to match up 
     in the other voice</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a></td><td class="doc"><p>index of point in its phrase</p></td></tr><tr><td class="src">-&gt; <a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Compare two <code><a href="Cogito-Musarithmetic.html#t:MusicPhrase" title="Cogito.Musarithmetic">MusicPhrase</a></code>s and find the note in the one (lower) voice that
 coincides rhythmically with a given note in the other (upper) voice. Used
 to find harmonies and test them for bad intervals.</p><p>We find the top note by index and add the durations up to that point, then
 we add the durations in the bottom voice up to each item (that is, a scan)
 and then stop at the first item that matches the elapsed duration of the
 top voice.</p></div></div><div class="top"><p class="src"><a id="v:durQuantity" class="def">durQuantity</a> :: <a href="Aedifico.html#t:Dur" title="Aedifico">Dur</a> -&gt; <a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="src/Cogito.Ficta.html#durQuantity" class="link">Source</a> <a href="#v:durQuantity" class="selflink">#</a></p><div class="doc"><p>What is the elapsed time of a <code><a href="Aedifico.html#t:Dur" title="Aedifico">Dur</a></code> in units where <code><a href="Aedifico.html#v:Fs" title="Aedifico">Fs</a></code> (fusa) = 1?</p></div></div><a href="#g:3" id="g:3"><h1>Apply <em>ficta</em> adjustments to whole <code><a href="Cogito-Musarithmetic.html#t:MusicPhrase" title="Cogito.Musarithmetic">MusicPhrase</a></code>s</h1></a><div class="top"><p class="src"><a id="v:adjustFictaChorus" class="def">adjustFictaChorus</a> :: <a href="Aedifico.html#t:ModeSystem" title="Aedifico">ModeSystem</a> -&gt; <a href="Aedifico.html#t:ModeList" title="Aedifico">ModeList</a> -&gt; <a href="Cogito-Musarithmetic.html#t:MusicChorus" title="Cogito.Musarithmetic">MusicChorus</a> -&gt; <a href="Cogito-Musarithmetic.html#t:MusicChorus" title="Cogito.Musarithmetic">MusicChorus</a> <a href="src/Cogito.Ficta.html#adjustFictaChorus" class="link">Source</a> <a href="#v:adjustFictaChorus" class="selflink">#</a></p><div class="doc"><p>Adjust a chorus for <em>musica ficta</em>: adjust bass first, and then apply a
 function to each of the upper voices adjusting it relative to the revised
 bass.</p></div></div><div class="top"><p class="src"><a id="v:adjustPhrasesInSection" class="def">adjustPhrasesInSection</a> <a href="src/Cogito.Ficta.html#adjustPhrasesInSection" class="link">Source</a> <a href="#v:adjustPhrasesInSection" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="Cogito-Musarithmetic.html#t:MusicPhrase" title="Cogito.Musarithmetic">MusicPhrase</a> -&gt; <a href="Cogito-Musarithmetic.html#t:MusicPhrase" title="Cogito.Musarithmetic">MusicPhrase</a> -&gt; <a href="Cogito-Musarithmetic.html#t:MusicPhrase" title="Cogito.Musarithmetic">MusicPhrase</a>)</td><td class="doc"><p>phrase transform function</p></td></tr><tr><td class="src">-&gt; <a href="Cogito-Musarithmetic.html#t:MusicSection" title="Cogito.Musarithmetic">MusicSection</a></td><td class="doc"><p>lower voice section</p></td></tr><tr><td class="src">-&gt; <a href="Cogito-Musarithmetic.html#t:MusicSection" title="Cogito.Musarithmetic">MusicSection</a></td><td class="doc"><p>upper voice section</p></td></tr><tr><td class="src">-&gt; <a href="Cogito-Musarithmetic.html#t:MusicSection" title="Cogito.Musarithmetic">MusicSection</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Map a function to the phrases in one section (upper voice) relative to
 the phrases in another section (lower voice).</p></div></div><div class="top"><p class="src"><a id="v:adjustFictaPhrase" class="def">adjustFictaPhrase</a> :: <a href="Aedifico.html#t:ModeList" title="Aedifico">ModeList</a> -&gt; <a href="Aedifico.html#t:Mode" title="Aedifico">Mode</a> -&gt; <a href="Cogito-Musarithmetic.html#t:MusicPhrase" title="Cogito.Musarithmetic">MusicPhrase</a> -&gt; <a href="Cogito-Musarithmetic.html#t:MusicPhrase" title="Cogito.Musarithmetic">MusicPhrase</a> -&gt; <a href="Cogito-Musarithmetic.html#t:MusicPhrase" title="Cogito.Musarithmetic">MusicPhrase</a> <a href="src/Cogito.Ficta.html#adjustFictaPhrase" class="link">Source</a> <a href="#v:adjustFictaPhrase" class="selflink">#</a></p><div class="doc"><p>Apply <em>musica ficta</em> adjustments to a whole <code><a href="Cogito-Musarithmetic.html#t:MusicPhrase" title="Cogito.Musarithmetic">MusicPhrase</a></code>. Some
 adjustments only involve this phrase, while others must be relative to the
 bass voice. The bass voice should be adjusted already before this function
 is called.</p><p>Adjustments: (1) scale degree seven should be sharp if that is suggested in
 the mode table only if it is going up to eight and if the bass is on scale
 degree five; (2) scale degree six should be flat if that is suggested in
 the mode table only if it is going down to five; (3) repeated notes should
 match the last accidental in the series [as long as the harmonies with the
 bass are okay? TODO]; (4) there should be no cross-relations or augmented
 fifths.</p><p>TODO active development; not everything working</p></div></div><a href="#g:4" id="g:4"><h2>Specific adjustments by rule</h2></a><div class="top"><p class="src"><a id="v:scaleDegree" class="def">scaleDegree</a> :: <a href="Aedifico.html#t:ModeList" title="Aedifico">ModeList</a> -&gt; <a href="Aedifico.html#t:Mode" title="Aedifico">Mode</a> -&gt; <a href="Aedifico.html#t:Pitch" title="Aedifico">Pitch</a> -&gt; <a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="src/Cogito.Ficta.html#scaleDegree" class="link">Source</a> <a href="#v:scaleDegree" class="selflink">#</a></p><div class="doc"><p>Return the 0-indexed scale degree of a given pitch in a given mode
 (scale degree 0 is the modal final)</p></div></div><div class="top"><p class="src"><a id="v:isFictaAccid" class="def">isFictaAccid</a> :: <a href="Aedifico.html#t:Accid" title="Aedifico">Accid</a> -&gt; <a href="Aedifico.html#t:Pitch" title="Aedifico">Pitch</a> -&gt; <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Cogito.Ficta.html#isFictaAccid" class="link">Source</a> <a href="#v:isFictaAccid" class="selflink">#</a></p><div class="doc"><p>Does this <code><a href="Aedifico.html#t:Pitch" title="Aedifico">Pitch</a></code> have the given accidental as <code><a href="Aedifico.html#v:Suggested" title="Aedifico">Suggested</a></code>?</p></div></div><div class="top"><p class="src"><a id="v:isFictaAccidNote" class="def">isFictaAccidNote</a> :: <a href="Aedifico.html#t:Accid" title="Aedifico">Accid</a> -&gt; <a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a> -&gt; <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Cogito.Ficta.html#isFictaAccidNote" class="link">Source</a> <a href="#v:isFictaAccidNote" class="selflink">#</a></p><div class="doc"><p>Apply <code><a href="Cogito-Ficta.html#v:isFictaAccid" title="Cogito.Ficta">isFictaAccid</a></code> to a <code><a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a></code></p></div></div><div class="top"><p class="src"><a id="v:fixIntervals" class="def">fixIntervals</a> <a href="src/Cogito.Ficta.html#fixIntervals" class="link">Source</a> <a href="#v:fixIntervals" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a></td><td class="doc"><p>lower note</p></td></tr><tr><td class="src">-&gt; <a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a></td><td class="doc"><p>upper note</p></td></tr><tr><td class="src">-&gt; <a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a></td><td class="doc"><p>adjusted upper note</p></td></tr></table></div><div class="doc"><p>No cross relations, augmented fifths, or tritones between upper and lower
 note</p></div></div><div class="top"><p class="src"><a id="v:fixUpperVoiceIntervals" class="def">fixUpperVoiceIntervals</a> :: <a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a> -&gt; <a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a> -&gt; <a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a> <a href="src/Cogito.Ficta.html#fixUpperVoiceIntervals" class="link">Source</a> <a href="#v:fixUpperVoiceIntervals" class="selflink">#</a></p><div class="doc"><p>Avoid cross relations (TODO other intervals?) between upper voices.
 If there is a cross relation on notes with <code><a href="Aedifico.html#v:Suggested" title="Aedifico">Suggested</a></code> accidentals, match
 the lower voice.</p></div></div><div class="top"><p class="src"><a id="v:isCrossRelation" class="def">isCrossRelation</a> :: <a href="Aedifico.html#t:Pitch" title="Aedifico">Pitch</a> -&gt; <a href="Aedifico.html#t:Pitch" title="Aedifico">Pitch</a> -&gt; <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Cogito.Ficta.html#isCrossRelation" class="link">Source</a> <a href="#v:isCrossRelation" class="selflink">#</a></p><div class="doc"><p>Are these pitches the same pitch class but different accidentals? (E.g.,
 F vs F#?)</p></div></div><div class="top"><p class="src"><a id="v:isAugFifth" class="def">isAugFifth</a> <a href="src/Cogito.Ficta.html#isAugFifth" class="link">Source</a> <a href="#v:isAugFifth" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Aedifico.html#t:Pitch" title="Aedifico">Pitch</a></td><td class="doc"><p>lower pitch</p></td></tr><tr><td class="src">-&gt; <a href="Aedifico.html#t:Pitch" title="Aedifico">Pitch</a></td><td class="doc"><p>higher pitch</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Are these pitches an augmented fifth apart?</p></div></div><div class="top"><p class="src"><a id="v:isTritone" class="def">isTritone</a> <a href="src/Cogito.Ficta.html#isTritone" class="link">Source</a> <a href="#v:isTritone" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Aedifico.html#t:Pitch" title="Aedifico">Pitch</a></td><td class="doc"><p>lower pitch</p></td></tr><tr><td class="src">-&gt; <a href="Aedifico.html#t:Pitch" title="Aedifico">Pitch</a></td><td class="doc"><p>upper pitch</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Are these two notes a tritone apart chromatically?</p></div></div><div class="top"><p class="src"><a id="v:adjustBassFicta" class="def">adjustBassFicta</a> :: <a href="Aedifico.html#t:ModeSystem" title="Aedifico">ModeSystem</a> -&gt; <a href="Aedifico.html#t:ModeList" title="Aedifico">ModeList</a> -&gt; <a href="Aedifico.html#t:Mode" title="Aedifico">Mode</a> -&gt; <a href="Cogito-Musarithmetic.html#t:MusicSection" title="Cogito.Musarithmetic">MusicSection</a> -&gt; <a href="Cogito-Musarithmetic.html#t:MusicSection" title="Cogito.Musarithmetic">MusicSection</a> <a href="src/Cogito.Ficta.html#adjustBassFicta" class="link">Source</a> <a href="#v:adjustBassFicta" class="selflink">#</a></p><div class="doc"><p>Adjust <em>musica ficta</em> accidentals in the bass. </p></div></div><div class="top"><p class="src"><a id="v:fixMelodicTritone" class="def">fixMelodicTritone</a> :: <a href="Aedifico.html#t:ModeSystem" title="Aedifico">ModeSystem</a> -&gt; <a href="Aedifico.html#t:Mode" title="Aedifico">Mode</a> -&gt; [<a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a>] -&gt; <a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a> -&gt; [<a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a>] <a href="src/Cogito.Ficta.html#fixMelodicTritone" class="link">Source</a> <a href="#v:fixMelodicTritone" class="selflink">#</a></p><div class="doc"><p>Fix melodic tritone before or after B (fold function)</p></div></div><div class="top"><p class="src"><a id="v:fixSixSeven" class="def">fixSixSeven</a> :: <a href="Aedifico.html#t:ModeList" title="Aedifico">ModeList</a> -&gt; <a href="Aedifico.html#t:Mode" title="Aedifico">Mode</a> -&gt; [<a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a>] -&gt; <a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a> -&gt; [<a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a>] <a href="src/Cogito.Ficta.html#fixSixSeven" class="link">Source</a> <a href="#v:fixSixSeven" class="selflink">#</a></p><div class="doc"><p>Fix descending scale-degree sevens and ascending sixes (fold function)</p></div></div><div class="top"><p class="src"><a id="v:cancelNote" class="def">cancelNote</a> :: <a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a> -&gt; <a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a> <a href="src/Cogito.Ficta.html#cancelNote" class="link">Source</a> <a href="#v:cancelNote" class="selflink">#</a></p><div class="doc"><p>Cancel the <code><a href="Aedifico.html#t:Pitch" title="Aedifico">Pitch</a></code> in a <code><a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a></code></p></div></div><div class="top"><p class="src"><a id="v:fixFlatSharp" class="def">fixFlatSharp</a> :: [<a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a>] -&gt; <a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a> -&gt; [<a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a>] <a href="src/Cogito.Ficta.html#fixFlatSharp" class="link">Source</a> <a href="#v:fixFlatSharp" class="selflink">#</a></p><div class="doc"><p>If this note is suggested flat, and the next note is suggested sharp,
 make this note natural.</p></div></div><div class="top"><p class="src"><a id="v:fixAccidRepeat" class="def">fixAccidRepeat</a> :: [<a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a>] -&gt; <a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a> -&gt; [<a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a>] <a href="src/Cogito.Ficta.html#fixAccidRepeat" class="link">Source</a> <a href="#v:fixAccidRepeat" class="selflink">#</a></p><div class="doc"><p>If there are two subsequent accidental inflections of a note (e.g., F
 natural--F sharp or vice versa), make the first note match the second.
 This deals with a byproduct of <code><a href="Cogito-Ficta.html#v:sharpLeadingTone" title="Cogito.Ficta">sharpLeadingTone</a></code> with repeated notes,
 where that function would turn F--F--G into F--F#--G. This function would
 make it F<a id="--F"></a>--G.</p></div></div><div class="top"><p class="src"><a id="v:fixLeadingTonesInPhrase" class="def">fixLeadingTonesInPhrase</a> <a href="src/Cogito.Ficta.html#fixLeadingTonesInPhrase" class="link">Source</a> <a href="#v:fixLeadingTonesInPhrase" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Aedifico.html#t:ModeList" title="Aedifico">ModeList</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Aedifico.html#t:Mode" title="Aedifico">Mode</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Cogito-Musarithmetic.html#t:MusicPhrase" title="Cogito.Musarithmetic">MusicPhrase</a></td><td class="doc"><p>bass voice</p></td></tr><tr><td class="src">-&gt; <a href="Cogito-Musarithmetic.html#t:MusicPhrase" title="Cogito.Musarithmetic">MusicPhrase</a></td><td class="doc"><p>upper voice to be adjusted</p></td></tr><tr><td class="src">-&gt; <a href="Cogito-Musarithmetic.html#t:MusicPhrase" title="Cogito.Musarithmetic">MusicPhrase</a></td><td class="doc"><p>adjusted upper voice</p></td></tr></table></div><div class="doc"><p>Fix the leading tones of a <code><a href="Cogito-Musarithmetic.html#t:MusicPhrase" title="Cogito.Musarithmetic">MusicPhrase</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:fixLeadingTonePairs" class="def">fixLeadingTonePairs</a> <a href="src/Cogito.Ficta.html#fixLeadingTonePairs" class="link">Source</a> <a href="#v:fixLeadingTonePairs" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Aedifico.html#t:ModeList" title="Aedifico">ModeList</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Aedifico.html#t:Mode" title="Aedifico">Mode</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; [(<a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a>, <a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a>)]</td><td class="doc"><p>stack of pairs of upper and lower notes</p></td></tr><tr><td class="src">-&gt; (<a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a>, <a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a>)</td><td class="doc"><p>next upper voice note pair</p></td></tr><tr><td class="src">-&gt; [(<a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a>, <a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a>)]</td><td class="doc"><p>pairs with adjusted upper notes</p></td></tr></table></div><div class="doc"><p>Fold function for adjusting the leading tones in the upper voice of a
 list of (upper, lower) <code><a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a></code> pairs</p></div></div><div class="top"><p class="src"><a id="v:sharpLeadingTone" class="def">sharpLeadingTone</a> <a href="src/Cogito.Ficta.html#sharpLeadingTone" class="link">Source</a> <a href="#v:sharpLeadingTone" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Aedifico.html#t:ModeList" title="Aedifico">ModeList</a></td><td class="doc"><p>list (table) of modes from the ark</p></td></tr><tr><td class="src">-&gt; <a href="Aedifico.html#t:Mode" title="Aedifico">Mode</a></td><td class="doc"><p>current mode</p></td></tr><tr><td class="src">-&gt; <a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a></td><td class="doc"><p>bass note</p></td></tr><tr><td class="src">-&gt; <a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a></td><td class="doc"><p>current note to be adjusted</p></td></tr><tr><td class="src">-&gt; <a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a></td><td class="doc"><p>next note</p></td></tr><tr><td class="src">-&gt; <a href="Cogito-Musarithmetic.html#t:Note" title="Cogito.Musarithmetic">Note</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Sharp highest scale degree in an upper voice (1) when it leads up to
 scale-degree eight, and (2) when the bass note is on scale degree
 five. (TODO or two?)</p><p>Remember, these are all 0-indexed numbers instead of the 1-indexed numbers
 used in speech (degree 6 here is &quot;scale degree 7&quot; in speech).</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>