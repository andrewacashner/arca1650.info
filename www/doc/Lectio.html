<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Lectio</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Lectio.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">arca-0.1.0.0</p></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>(c) Andrew A. Cashner 2021</td></tr><tr><th>Maintainer</th><td>Andrew Cashner, &lt;andrew.cashner@rochester.edu&gt;</td></tr><tr><th>Stability</th><td>Experimental</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Lectio</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Read input file</a><ul><li><a href="#g:2">Global settings for input format</a></li><li><a href="#g:3">Storing XML data</a></li></ul></li><li><a href="#g:4">Hierarchical text groupings by word, phrase, and sentence</a><ul><li><a href="#g:5"><code>Verbum</code>: Single words and syllables</a></li><li><a href="#g:6"><code>LyricPhrase</code>: Multiple words</a></li><li><a href="#g:7"><code>LyricSentence</code>: Multiple phrases</a></li><li><a href="#g:8"><code>LyricSection</code>: Multiple sentences with parameters for text-setting</a><ul><li><a href="#g:9">Get phrase lengths for prepared text</a></li></ul></li><li><a href="#g:10">Methods to read and store textual data into the above structures</a><ul><li><a href="#g:11">Helper methods for parsing</a></li></ul></li><li><a href="#g:12">Grouping prose</a></li></ul></li><li><a href="#g:13">Read the whole text </a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module reads (<em>lectio</em>, Latin, &quot;I read&quot;) and process input text to be set
to music using the ark. </p><h1>Kircher's specification</h1><p>Kircher expects the user to prepare a text by segmenting it into phrases
according to the poetic meter and prosody.  In his description the texts are
Latin, but he also demonstrates how the machine could be used with Aramaic and
other languages, ideally by Jesuit missionaries.</p><h1>Implementation</h1><h2>XML input</h2><p>In our implementation we also expect the user to mark the input text by
dividing the syllables with hyphens and marking the long syllables with accent
symbols (<code>`</code>, placed before the relevant syllable), for example:</p><pre>Lau-`da-te `Do-mi-num `om-nis `ter-rae. Al-le-`lu-ia. A-`men.</pre><p>This implementation takes input in the form of an XML document, in which the
text is syllabified and accented as just demonstrated, and divided into one or
more sections. In the attributes for each <code>&lt;section&gt;</code> element, the user sets
the values we need as input for the ark:</p><dl><dt><code>textMeter</code></dt><dd>e.g., <code>Prose</code> or <code>Adonium</code></dd><dt><code>musicMeter</code></dt><dd><code>Duple</code>, <code>TripleMinor</code>, or <code>TripleMajor</code></dd><dt><code>style</code></dt><dd><code>Simple</code> (= Syntagma I) or <code>Florid</code> (= Syntagma II)</dd><dt><code>tone</code></dt><dd>e.g., <code>Tone1</code></dd></dl><p>Within each section the text is divided into one or more line groups (<code>&lt;lg&gt;</code>)
and lines (<code>&lt;l&gt;</code>). (These elements are borrowed from TEI.)</p><h3 class="caption details-toggle-control details-toggle" data-details-id="ch:noid:0">TODO</h3><details id="ch:noid:0"><summary class="hide-when-js-enabled">Expand</summary><p>In Prose meter, Kircher leaves it up to the user to divide the text into
phrases. We are currently using a very simple algorithm to divide the
text into phrase groups within the correct size range. It would be
better to use a more sophisticated algorithm to parse the text into
optimal groups.</p></details><h2>Reading and parsing the input file</h2><p>The main function is <code><a href="Lectio.html#v:prepareInput" title="Lectio">prepareInput</a></code>, which reads and parses the file and produces a list of <code><a href="Lectio.html#t:LyricSection" title="Lectio">LyricSection</a></code>s.</p><p>This module reads the input file, parses the XML tree to extract the text and
needed parameters for setting the text (within each section), and then
packages the text into its own data structures to pass on to the other parts
of the program (<code>Cogito</code> for processing and <code>Scribo</code> for writing output).</p><h3>Capturing XML data</h3><p>The text is first grouped into intermediate data structures that closely
reflect the XML structure. Each <code>&lt;section&gt;</code> becomes an <code><a href="Lectio.html#t:ArkTextSection" title="Lectio">ArkTextSection</a></code>,
containing a nested list of strings (line groups and lines from XML) and an
<code><a href="Aedifico.html#t:ArkConfig" title="Aedifico">ArkConfig</a></code> with the parameters from the XML section attributes. The list of
these is packaged into a single <code><a href="Lectio.html#t:ArkInput" title="Lectio">ArkInput</a></code> structure containing metadata for
the whole document (taken from the XML <code>&lt;head&gt;</code>), and a list of
<code><a href="Lectio.html#t:ArkTextSection" title="Lectio">ArkTextSection</a></code>s.</p><h3>Preparing for musical setting</h3><p>The module then processes this data and converts it into a list of
<code><a href="Lectio.html#t:LyricSection" title="Lectio">LyricSection</a></code>s that the other modules will use.  Below are the structures
that are passed on to other modules, from top down.  Each structure contains
the element below it, plus information about it (length, number of syllables,
etc.). To get that information, these structures are created with methods that
calculate the data upfront.</p><dl><dt><code><a href="Lectio.html#t:LyricSection" title="Lectio">LyricSection</a></code></dt><dd>group of sentences (from <code>&lt;section&gt;</code>)</dd></dl><ul><li>also contains an <code><a href="Aedifico.html#t:ArkConfig" title="Aedifico">ArkConfig</a></code> with the text-setting parameters</li></ul><dl><dt><code><a href="Lectio.html#t:LyricSentence" title="Lectio">LyricSentence</a></code></dt><dd>group of phrases (from <code>&lt;lg&gt;</code>)</dd><dt><code><a href="Lectio.html#t:LyricPhrase" title="Lectio">LyricPhrase</a></code></dt><dd>group of words (from <code>&lt;l&gt;</code>)</dd><dt><code><a href="Lectio.html#t:Verbum" title="Lectio">Verbum</a></code></dt><dd>individual word, broken into syllables</dd></dl></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:hyphenChar">hyphenChar</a> :: <a href="../base-4.12.0.0/Data-Char.html#t:Char" title="Data.Char">Char</a></li><li class="src short"><a href="#v:accentChar">accentChar</a> :: <a href="../base-4.12.0.0/Data-Char.html#t:Char" title="Data.Char">Char</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:ArkMetadata">ArkMetadata</a> = <a href="#v:ArkMetadata">ArkMetadata</a> {<ul class="subs"><li><a href="#v:arkTitle">arkTitle</a> :: <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a></li><li><a href="#v:arkWordsAuthor">arkWordsAuthor</a> :: <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a></li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:ArkInput">ArkInput</a> = <a href="#v:ArkInput">ArkInput</a> {<ul class="subs"><li><a href="#v:arkMetadata">arkMetadata</a> :: <a href="Lectio.html#t:ArkMetadata" title="Lectio">ArkMetadata</a></li><li><a href="#v:arkTextSections">arkTextSections</a> :: [<a href="Lectio.html#t:ArkTextSection" title="Lectio">ArkTextSection</a>]</li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:ArkTextSection">ArkTextSection</a> = <a href="#v:ArkTextSection">ArkTextSection</a> {<ul class="subs"><li><a href="#v:arkConfig">arkConfig</a> :: <a href="Aedifico.html#t:ArkConfig" title="Aedifico">ArkConfig</a></li><li><a href="#v:arkText">arkText</a> :: [[<a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a>]]</li></ul>}</li><li class="src short"><a href="#v:xmlSearch">xmlSearch</a> :: <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="../xml-1.3.14/Text-XML-Light-Types.html#t:QName" title="Text.XML.Light.Types">QName</a></li><li class="src short"><a href="#v:xmlNodeText">xmlNodeText</a> :: <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="../xml-1.3.14/Text-XML-Light-Types.html#t:Element" title="Text.XML.Light.Types">Element</a> -&gt; <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a></li><li class="src short"><a href="#v:cleanUpText">cleanUpText</a> :: [<a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a>] -&gt; [<a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a>]</li><li class="src short"><a href="#v:strip">strip</a> :: <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a></li><li class="src short"><a href="#v:readInput">readInput</a> :: <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="Lectio.html#t:ArkInput" title="Lectio">ArkInput</a></li><li class="src short"><a href="#v:parseSection">parseSection</a> :: <a href="../xml-1.3.14/Text-XML-Light-Types.html#t:Element" title="Text.XML.Light.Types">Element</a> -&gt; <a href="Lectio.html#t:ArkTextSection" title="Lectio">ArkTextSection</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:SylLen">SylLen</a> = <a href="Aedifico.html#t:PenultLength" title="Aedifico">PenultLength</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:Verbum">Verbum</a> = <a href="#v:Verbum">Verbum</a> {<ul class="subs"><li><a href="#v:verbumText">verbumText</a> :: <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a></li><li><a href="#v:verbumSyl">verbumSyl</a> :: [<a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a>]</li><li><a href="#v:sylCount">sylCount</a> :: <a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li><a href="#v:penultLength">penultLength</a> :: <a href="Lectio.html#t:SylLen" title="Lectio">SylLen</a></li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:LyricPhrase">LyricPhrase</a> = <a href="#v:LyricPhrase">LyricPhrase</a> {<ul class="subs"><li><a href="#v:phraseText">phraseText</a> :: [<a href="Lectio.html#t:Verbum" title="Lectio">Verbum</a>]</li><li><a href="#v:phraseSylCount">phraseSylCount</a> :: <a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li><a href="#v:phrasePenultLength">phrasePenultLength</a> :: <a href="Lectio.html#t:SylLen" title="Lectio">SylLen</a></li><li><a href="#v:phrasePosition">phrasePosition</a> :: <a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li></ul>}</li><li class="src short"><span class="keyword">type</span> <a href="#t:PhrasesInLyricSentence">PhrasesInLyricSentence</a> = <a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:PhrasesInLyricSection">PhrasesInLyricSection</a> = [<a href="Lectio.html#t:PhrasesInLyricSentence" title="Lectio">PhrasesInLyricSentence</a>]</li><li class="src short"><span class="keyword">data</span> <a href="#t:LyricSentence">LyricSentence</a> = <a href="#v:LyricSentence">LyricSentence</a> {<ul class="subs"><li><a href="#v:phrases">phrases</a> :: [<a href="Lectio.html#t:LyricPhrase" title="Lectio">LyricPhrase</a>]</li><li><a href="#v:sentenceLength">sentenceLength</a> :: <a href="Lectio.html#t:PhrasesInLyricSentence" title="Lectio">PhrasesInLyricSentence</a></li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:LyricSection">LyricSection</a> = <a href="#v:LyricSection">LyricSection</a> {<ul class="subs"><li><a href="#v:sectionConfig">sectionConfig</a> :: <a href="Aedifico.html#t:ArkConfig" title="Aedifico">ArkConfig</a></li><li><a href="#v:sentences">sentences</a> :: [<a href="Lectio.html#t:LyricSentence" title="Lectio">LyricSentence</a>]</li></ul>}</li><li class="src short"><a href="#v:sectionPhraseLengths">sectionPhraseLengths</a> :: <a href="Lectio.html#t:LyricSection" title="Lectio">LyricSection</a> -&gt; <a href="Lectio.html#t:PhrasesInLyricSection" title="Lectio">PhrasesInLyricSection</a></li><li class="src short"><a href="#v:inputPhraseLengths">inputPhraseLengths</a> :: [<a href="Lectio.html#t:LyricSection" title="Lectio">LyricSection</a>] -&gt; [<a href="Lectio.html#t:PhrasesInLyricSection" title="Lectio">PhrasesInLyricSection</a>]</li><li class="src short"><a href="#v:newLyricSentence">newLyricSentence</a> :: [<a href="Lectio.html#t:LyricPhrase" title="Lectio">LyricPhrase</a>] -&gt; <a href="Lectio.html#t:LyricSentence" title="Lectio">LyricSentence</a></li><li class="src short"><a href="#v:newLyricPhrase">newLyricPhrase</a> :: [<a href="Lectio.html#t:Verbum" title="Lectio">Verbum</a>] -&gt; <a href="Lectio.html#t:LyricPhrase" title="Lectio">LyricPhrase</a></li><li class="src short"><a href="#v:newVerbum">newVerbum</a> :: <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="Lectio.html#t:Verbum" title="Lectio">Verbum</a></li><li class="src short"><a href="#v:penultValue">penultValue</a> :: [<a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a>] -&gt; <a href="Lectio.html#t:SylLen" title="Lectio">SylLen</a></li><li class="src short"><a href="#v:penult">penult</a> :: [a] -&gt; <a href="../base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> a</li><li class="src short"><a href="#v:rephrase">rephrase</a> :: <a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Lectio.html#t:LyricPhrase" title="Lectio">LyricPhrase</a> -&gt; [<a href="Lectio.html#t:LyricPhrase" title="Lectio">LyricPhrase</a>]</li><li class="src short"><a href="#v:prepareInput">prepareInput</a> :: <a href="Lectio.html#t:ArkInput" title="Lectio">ArkInput</a> -&gt; [<a href="Lectio.html#t:LyricSection" title="Lectio">LyricSection</a>]</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Read input file</h1></a><a href="#g:2" id="g:2"><h2>Global settings for input format</h2></a><div class="top"><p class="src"><a id="v:hyphenChar" class="def">hyphenChar</a> :: <a href="../base-4.12.0.0/Data-Char.html#t:Char" title="Data.Char">Char</a> <a href="src/Lectio.html#hyphenChar" class="link">Source</a> <a href="#v:hyphenChar" class="selflink">#</a></p><div class="doc"><p>The character used to demarcate syllables (default <code>'-'</code>)</p></div></div><div class="top"><p class="src"><a id="v:accentChar" class="def">accentChar</a> :: <a href="../base-4.12.0.0/Data-Char.html#t:Char" title="Data.Char">Char</a> <a href="src/Lectio.html#accentChar" class="link">Source</a> <a href="#v:accentChar" class="selflink">#</a></p><div class="doc"><p>The character used at the beginning of syllables to show long (or
 accented) syllables (default <code>'`'</code>)</p></div></div><a href="#g:3" id="g:3"><h2>Storing XML data</h2></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ArkMetadata" class="def">ArkMetadata</a> <a href="src/Lectio.html#ArkMetadata" class="link">Source</a> <a href="#t:ArkMetadata" class="selflink">#</a></p><div class="doc"><p>Header information</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ArkMetadata" class="def">ArkMetadata</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:arkTitle" class="def">arkTitle</a> :: <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:arkWordsAuthor" class="def">arkWordsAuthor</a> :: <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><details id="i:ArkMetadata" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ArkMetadata:Show:1"></span> <a href="../base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Lectio.html#t:ArkMetadata" title="Lectio">ArkMetadata</a></span> <a href="src/Lectio.html#line-134" class="link">Source</a> <a href="#t:ArkMetadata" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ArkMetadata:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Lectio.html">Lectio</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Lectio.html#t:ArkMetadata" title="Lectio">ArkMetadata</a> -&gt; <a href="../base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Lectio.html#t:ArkMetadata" title="Lectio">ArkMetadata</a> -&gt; <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Lectio.html#t:ArkMetadata" title="Lectio">ArkMetadata</a>] -&gt; <a href="../base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ArkInput" class="def">ArkInput</a> <a href="src/Lectio.html#ArkInput" class="link">Source</a> <a href="#t:ArkInput" class="selflink">#</a></p><div class="doc"><p>The input to the ark is an <code><a href="Aedifico.html#t:ArkConfig" title="Aedifico">ArkConfig</a></code> element with tone, style, and
 meter; and a list of strings, each of which will become a <code><a href="Lectio.html#t:LyricSentence" title="Lectio">LyricSentence</a></code></p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ArkInput" class="def">ArkInput</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:arkMetadata" class="def">arkMetadata</a> :: <a href="Lectio.html#t:ArkMetadata" title="Lectio">ArkMetadata</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:arkTextSections" class="def">arkTextSections</a> :: [<a href="Lectio.html#t:ArkTextSection" title="Lectio">ArkTextSection</a>]</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><details id="i:ArkInput" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ArkInput:Show:1"></span> <a href="../base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Lectio.html#t:ArkInput" title="Lectio">ArkInput</a></span> <a href="src/Lectio.html#line-141" class="link">Source</a> <a href="#t:ArkInput" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ArkInput:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Lectio.html">Lectio</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Lectio.html#t:ArkInput" title="Lectio">ArkInput</a> -&gt; <a href="../base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Lectio.html#t:ArkInput" title="Lectio">ArkInput</a> -&gt; <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Lectio.html#t:ArkInput" title="Lectio">ArkInput</a>] -&gt; <a href="../base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ArkTextSection" class="def">ArkTextSection</a> <a href="src/Lectio.html#ArkTextSection" class="link">Source</a> <a href="#t:ArkTextSection" class="selflink">#</a></p><div class="doc"><p>A section of input text (from xml section element)</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ArkTextSection" class="def">ArkTextSection</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:arkConfig" class="def">arkConfig</a> :: <a href="Aedifico.html#t:ArkConfig" title="Aedifico">ArkConfig</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:arkText" class="def">arkText</a> :: [[<a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a>]]</dfn><div class="doc"><p>list of <code>&lt;lg@&gt; containing lists of </code>&lt;l&gt;@</p></div></li></ul></div></td></tr></table></div><div class="subs instances"><details id="i:ArkTextSection" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ArkTextSection:Show:1"></span> <a href="../base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Lectio.html#t:ArkTextSection" title="Lectio">ArkTextSection</a></span> <a href="src/Lectio.html#line-147" class="link">Source</a> <a href="#t:ArkTextSection" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ArkTextSection:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Lectio.html">Lectio</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Lectio.html#t:ArkTextSection" title="Lectio">ArkTextSection</a> -&gt; <a href="../base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Lectio.html#t:ArkTextSection" title="Lectio">ArkTextSection</a> -&gt; <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Lectio.html#t:ArkTextSection" title="Lectio">ArkTextSection</a>] -&gt; <a href="../base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:xmlSearch" class="def">xmlSearch</a> :: <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="../xml-1.3.14/Text-XML-Light-Types.html#t:QName" title="Text.XML.Light.Types">QName</a> <a href="src/Lectio.html#xmlSearch" class="link">Source</a> <a href="#v:xmlSearch" class="selflink">#</a></p><div class="doc"><p>Create a <code><a href="../xml-1.3.14/Text-XML-Light-Types.html#t:QName" title="Text.XML.Light.Types">QName</a></code> to search the xml tree</p></div></div><div class="top"><p class="src"><a id="v:xmlNodeText" class="def">xmlNodeText</a> <a href="src/Lectio.html#xmlNodeText" class="link">Source</a> <a href="#v:xmlNodeText" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a></td><td class="doc"><p>element name</p></td></tr><tr><td class="src">-&gt; <a href="../xml-1.3.14/Text-XML-Light-Types.html#t:Element" title="Text.XML.Light.Types">Element</a></td><td class="doc"><p>the node</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a></td><td class="doc"><p>node text</p></td></tr></table></div><div class="doc"><p>Get the text from a node</p></div></div><div class="top"><p class="src"><a id="v:cleanUpText" class="def">cleanUpText</a> :: [<a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a>] -&gt; [<a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a>] <a href="src/Lectio.html#cleanUpText" class="link">Source</a> <a href="#v:cleanUpText" class="selflink">#</a></p><div class="doc"><p>For each string in list, break text into strings at newlines, strip leading and trailing
 whitespace, remove empty strings, remove newlines</p></div></div><div class="top"><p class="src"><a id="v:strip" class="def">strip</a> :: <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="src/Lectio.html#strip" class="link">Source</a> <a href="#v:strip" class="selflink">#</a></p><div class="doc"><p>Strip leading and trailing whitespace from a <code><a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a></code></p></div></div><div class="top"><p class="src"><a id="v:readInput" class="def">readInput</a> :: <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="Lectio.html#t:ArkInput" title="Lectio">ArkInput</a> <a href="src/Lectio.html#readInput" class="link">Source</a> <a href="#v:readInput" class="selflink">#</a></p><div class="doc"><p>Read an XML string and return the data for input to the ark (<code><a href="Lectio.html#t:ArkInput" title="Lectio">ArkInput</a></code>)</p></div></div><div class="top"><p class="src"><a id="v:parseSection" class="def">parseSection</a> :: <a href="../xml-1.3.14/Text-XML-Light-Types.html#t:Element" title="Text.XML.Light.Types">Element</a> -&gt; <a href="Lectio.html#t:ArkTextSection" title="Lectio">ArkTextSection</a> <a href="src/Lectio.html#parseSection" class="link">Source</a> <a href="#v:parseSection" class="selflink">#</a></p><div class="doc"><p>Parse an XML node tree into a section with configuration and parsed text.</p></div></div><a href="#g:4" id="g:4"><h1>Hierarchical text groupings by word, phrase, and sentence</h1></a><a href="#g:5" id="g:5"><h2><code>Verbum</code>: Single words and syllables</h2></a><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:SylLen" class="def">SylLen</a> = <a href="Aedifico.html#t:PenultLength" title="Aedifico">PenultLength</a> <a href="src/Lectio.html#SylLen" class="link">Source</a> <a href="#t:SylLen" class="selflink">#</a></p><div class="doc"><p>Every syllable is either <code><a href="Aedifico.html#v:Long" title="Aedifico">Long</a></code> or <code><a href="Aedifico.html#v:Short" title="Aedifico">Short</a></code>.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Verbum" class="def">Verbum</a> <a href="src/Lectio.html#Verbum" class="link">Source</a> <a href="#t:Verbum" class="selflink">#</a></p><div class="doc"><p>Our data type for a word includes the original text of the word, that
 text chunked into syllables, the count of those syllables, and a marker of
 whether the penultimate syllable is short or long.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Verbum" class="def">Verbum</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:verbumText" class="def">verbumText</a> :: <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a></dfn><div class="doc"><p>original text</p></div></li><li><dfn class="src"><a id="v:verbumSyl" class="def">verbumSyl</a> :: [<a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a>]</dfn><div class="doc"><p>text divided into list of syllables</p></div></li><li><dfn class="src"><a id="v:sylCount" class="def">sylCount</a> :: <a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a></dfn><div class="doc"><p>number of syllables</p></div></li><li><dfn class="src"><a id="v:penultLength" class="def">penultLength</a> :: <a href="Lectio.html#t:SylLen" title="Lectio">SylLen</a></dfn><div class="doc"><p>length of next-to-last syllable</p></div></li></ul></div></td></tr></table></div><div class="subs instances"><details id="i:Verbum" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Verbum:Eq:1"></span> <a href="../base-4.12.0.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="Lectio.html#t:Verbum" title="Lectio">Verbum</a></span> <a href="src/Lectio.html#line-250" class="link">Source</a> <a href="#t:Verbum" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Verbum:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Lectio.html">Lectio</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Lectio.html#t:Verbum" title="Lectio">Verbum</a> -&gt; <a href="Lectio.html#t:Verbum" title="Lectio">Verbum</a> -&gt; <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Lectio.html#t:Verbum" title="Lectio">Verbum</a> -&gt; <a href="Lectio.html#t:Verbum" title="Lectio">Verbum</a> -&gt; <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Verbum:Ord:2"></span> <a href="../base-4.12.0.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> <a href="Lectio.html#t:Verbum" title="Lectio">Verbum</a></span> <a href="src/Lectio.html#line-250" class="link">Source</a> <a href="#t:Verbum" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Verbum:Ord:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Lectio.html">Lectio</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:compare">compare</a> :: <a href="Lectio.html#t:Verbum" title="Lectio">Verbum</a> -&gt; <a href="Lectio.html#t:Verbum" title="Lectio">Verbum</a> -&gt; <a href="../base-4.12.0.0/Data-Ord.html#t:Ordering" title="Data.Ord">Ordering</a> <a href="#v:compare" class="selflink">#</a></p><p class="src"><a href="#v:-60-">(&lt;)</a> :: <a href="Lectio.html#t:Verbum" title="Lectio">Verbum</a> -&gt; <a href="Lectio.html#t:Verbum" title="Lectio">Verbum</a> -&gt; <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-60-" class="selflink">#</a></p><p class="src"><a href="#v:-60--61-">(&lt;=)</a> :: <a href="Lectio.html#t:Verbum" title="Lectio">Verbum</a> -&gt; <a href="Lectio.html#t:Verbum" title="Lectio">Verbum</a> -&gt; <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-60--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62-">(&gt;)</a> :: <a href="Lectio.html#t:Verbum" title="Lectio">Verbum</a> -&gt; <a href="Lectio.html#t:Verbum" title="Lectio">Verbum</a> -&gt; <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-62-" class="selflink">#</a></p><p class="src"><a href="#v:-62--61-">(&gt;=)</a> :: <a href="Lectio.html#t:Verbum" title="Lectio">Verbum</a> -&gt; <a href="Lectio.html#t:Verbum" title="Lectio">Verbum</a> -&gt; <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-62--61-" class="selflink">#</a></p><p class="src"><a href="#v:max">max</a> :: <a href="Lectio.html#t:Verbum" title="Lectio">Verbum</a> -&gt; <a href="Lectio.html#t:Verbum" title="Lectio">Verbum</a> -&gt; <a href="Lectio.html#t:Verbum" title="Lectio">Verbum</a> <a href="#v:max" class="selflink">#</a></p><p class="src"><a href="#v:min">min</a> :: <a href="Lectio.html#t:Verbum" title="Lectio">Verbum</a> -&gt; <a href="Lectio.html#t:Verbum" title="Lectio">Verbum</a> -&gt; <a href="Lectio.html#t:Verbum" title="Lectio">Verbum</a> <a href="#v:min" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Verbum:Show:3"></span> <a href="../base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Lectio.html#t:Verbum" title="Lectio">Verbum</a></span> <a href="src/Lectio.html#line-250" class="link">Source</a> <a href="#t:Verbum" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Verbum:Show:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Lectio.html">Lectio</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Lectio.html#t:Verbum" title="Lectio">Verbum</a> -&gt; <a href="../base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Lectio.html#t:Verbum" title="Lectio">Verbum</a> -&gt; <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Lectio.html#t:Verbum" title="Lectio">Verbum</a>] -&gt; <a href="../base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><a href="#g:6" id="g:6"><h2><code>LyricPhrase</code>: Multiple words</h2></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:LyricPhrase" class="def">LyricPhrase</a> <a href="src/Lectio.html#LyricPhrase" class="link">Source</a> <a href="#t:LyricPhrase" class="selflink">#</a></p><div class="doc"><p>A <code><a href="Lectio.html#t:LyricPhrase" title="Lectio">LyricPhrase</a></code> is a group of <code><a href="Lectio.html#t:Verbum" title="Lectio">Verbum</a></code> items (words): it contains the list of
 words, the total count of syllables in the phrase, and a marker for the
 phrase's penultimate syllable length.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:LyricPhrase" class="def">LyricPhrase</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:phraseText" class="def">phraseText</a> :: [<a href="Lectio.html#t:Verbum" title="Lectio">Verbum</a>]</dfn><div class="doc"><p>list of words</p></div></li><li><dfn class="src"><a id="v:phraseSylCount" class="def">phraseSylCount</a> :: <a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a></dfn><div class="doc"><p>total syllables in all words</p></div></li><li><dfn class="src"><a id="v:phrasePenultLength" class="def">phrasePenultLength</a> :: <a href="Lectio.html#t:SylLen" title="Lectio">SylLen</a></dfn><div class="doc"><p>length of next-to-last syllable 
     in whole phrase</p></div></li><li><dfn class="src"><a id="v:phrasePosition" class="def">phrasePosition</a> :: <a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a></dfn><div class="doc"><p>position in list of phrases</p></div></li></ul></div></td></tr></table></div><div class="subs instances"><details id="i:LyricPhrase" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:LyricPhrase:Eq:1"></span> <a href="../base-4.12.0.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="Lectio.html#t:LyricPhrase" title="Lectio">LyricPhrase</a></span> <a href="src/Lectio.html#line-263" class="link">Source</a> <a href="#t:LyricPhrase" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:LyricPhrase:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Lectio.html">Lectio</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Lectio.html#t:LyricPhrase" title="Lectio">LyricPhrase</a> -&gt; <a href="Lectio.html#t:LyricPhrase" title="Lectio">LyricPhrase</a> -&gt; <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Lectio.html#t:LyricPhrase" title="Lectio">LyricPhrase</a> -&gt; <a href="Lectio.html#t:LyricPhrase" title="Lectio">LyricPhrase</a> -&gt; <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:LyricPhrase:Ord:2"></span> <a href="../base-4.12.0.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> <a href="Lectio.html#t:LyricPhrase" title="Lectio">LyricPhrase</a></span> <a href="src/Lectio.html#line-263" class="link">Source</a> <a href="#t:LyricPhrase" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:LyricPhrase:Ord:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Lectio.html">Lectio</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:compare">compare</a> :: <a href="Lectio.html#t:LyricPhrase" title="Lectio">LyricPhrase</a> -&gt; <a href="Lectio.html#t:LyricPhrase" title="Lectio">LyricPhrase</a> -&gt; <a href="../base-4.12.0.0/Data-Ord.html#t:Ordering" title="Data.Ord">Ordering</a> <a href="#v:compare" class="selflink">#</a></p><p class="src"><a href="#v:-60-">(&lt;)</a> :: <a href="Lectio.html#t:LyricPhrase" title="Lectio">LyricPhrase</a> -&gt; <a href="Lectio.html#t:LyricPhrase" title="Lectio">LyricPhrase</a> -&gt; <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-60-" class="selflink">#</a></p><p class="src"><a href="#v:-60--61-">(&lt;=)</a> :: <a href="Lectio.html#t:LyricPhrase" title="Lectio">LyricPhrase</a> -&gt; <a href="Lectio.html#t:LyricPhrase" title="Lectio">LyricPhrase</a> -&gt; <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-60--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62-">(&gt;)</a> :: <a href="Lectio.html#t:LyricPhrase" title="Lectio">LyricPhrase</a> -&gt; <a href="Lectio.html#t:LyricPhrase" title="Lectio">LyricPhrase</a> -&gt; <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-62-" class="selflink">#</a></p><p class="src"><a href="#v:-62--61-">(&gt;=)</a> :: <a href="Lectio.html#t:LyricPhrase" title="Lectio">LyricPhrase</a> -&gt; <a href="Lectio.html#t:LyricPhrase" title="Lectio">LyricPhrase</a> -&gt; <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-62--61-" class="selflink">#</a></p><p class="src"><a href="#v:max">max</a> :: <a href="Lectio.html#t:LyricPhrase" title="Lectio">LyricPhrase</a> -&gt; <a href="Lectio.html#t:LyricPhrase" title="Lectio">LyricPhrase</a> -&gt; <a href="Lectio.html#t:LyricPhrase" title="Lectio">LyricPhrase</a> <a href="#v:max" class="selflink">#</a></p><p class="src"><a href="#v:min">min</a> :: <a href="Lectio.html#t:LyricPhrase" title="Lectio">LyricPhrase</a> -&gt; <a href="Lectio.html#t:LyricPhrase" title="Lectio">LyricPhrase</a> -&gt; <a href="Lectio.html#t:LyricPhrase" title="Lectio">LyricPhrase</a> <a href="#v:min" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:LyricPhrase:Show:3"></span> <a href="../base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Lectio.html#t:LyricPhrase" title="Lectio">LyricPhrase</a></span> <a href="src/Lectio.html#line-265" class="link">Source</a> <a href="#t:LyricPhrase" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:LyricPhrase:Show:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Lectio.html">Lectio</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Lectio.html#t:LyricPhrase" title="Lectio">LyricPhrase</a> -&gt; <a href="../base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Lectio.html#t:LyricPhrase" title="Lectio">LyricPhrase</a> -&gt; <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Lectio.html#t:LyricPhrase" title="Lectio">LyricPhrase</a>] -&gt; <a href="../base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><a href="#g:7" id="g:7"><h2><code>LyricSentence</code>: Multiple phrases</h2></a><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:PhrasesInLyricSentence" class="def">PhrasesInLyricSentence</a> = <a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="src/Lectio.html#PhrasesInLyricSentence" class="link">Source</a> <a href="#t:PhrasesInLyricSentence" class="selflink">#</a></p><div class="doc"><p>Each sentence includes the number of phrases therein</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:PhrasesInLyricSection" class="def">PhrasesInLyricSection</a> = [<a href="Lectio.html#t:PhrasesInLyricSentence" title="Lectio">PhrasesInLyricSentence</a>] <a href="src/Lectio.html#PhrasesInLyricSection" class="link">Source</a> <a href="#t:PhrasesInLyricSection" class="selflink">#</a></p><div class="doc"><p>A list of totals of phrases in a section </p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:LyricSentence" class="def">LyricSentence</a> <a href="src/Lectio.html#LyricSentence" class="link">Source</a> <a href="#t:LyricSentence" class="selflink">#</a></p><div class="doc"><p>A <code><a href="Lectio.html#t:LyricSentence" title="Lectio">LyricSentence</a></code> is just a list of <code><a href="Lectio.html#t:LyricPhrase" title="Lectio">LyricPhrase</a></code> items.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:LyricSentence" class="def">LyricSentence</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:phrases" class="def">phrases</a> :: [<a href="Lectio.html#t:LyricPhrase" title="Lectio">LyricPhrase</a>]</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:sentenceLength" class="def">sentenceLength</a> :: <a href="Lectio.html#t:PhrasesInLyricSentence" title="Lectio">PhrasesInLyricSentence</a></dfn><div class="doc"><p>number of phrases</p></div></li></ul></div></td></tr></table></div><div class="subs instances"><details id="i:LyricSentence" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:LyricSentence:Eq:1"></span> <a href="../base-4.12.0.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="Lectio.html#t:LyricSentence" title="Lectio">LyricSentence</a></span> <a href="src/Lectio.html#line-287" class="link">Source</a> <a href="#t:LyricSentence" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:LyricSentence:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Lectio.html">Lectio</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Lectio.html#t:LyricSentence" title="Lectio">LyricSentence</a> -&gt; <a href="Lectio.html#t:LyricSentence" title="Lectio">LyricSentence</a> -&gt; <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Lectio.html#t:LyricSentence" title="Lectio">LyricSentence</a> -&gt; <a href="Lectio.html#t:LyricSentence" title="Lectio">LyricSentence</a> -&gt; <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:LyricSentence:Ord:2"></span> <a href="../base-4.12.0.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> <a href="Lectio.html#t:LyricSentence" title="Lectio">LyricSentence</a></span> <a href="src/Lectio.html#line-287" class="link">Source</a> <a href="#t:LyricSentence" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:LyricSentence:Ord:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Lectio.html">Lectio</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:compare">compare</a> :: <a href="Lectio.html#t:LyricSentence" title="Lectio">LyricSentence</a> -&gt; <a href="Lectio.html#t:LyricSentence" title="Lectio">LyricSentence</a> -&gt; <a href="../base-4.12.0.0/Data-Ord.html#t:Ordering" title="Data.Ord">Ordering</a> <a href="#v:compare" class="selflink">#</a></p><p class="src"><a href="#v:-60-">(&lt;)</a> :: <a href="Lectio.html#t:LyricSentence" title="Lectio">LyricSentence</a> -&gt; <a href="Lectio.html#t:LyricSentence" title="Lectio">LyricSentence</a> -&gt; <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-60-" class="selflink">#</a></p><p class="src"><a href="#v:-60--61-">(&lt;=)</a> :: <a href="Lectio.html#t:LyricSentence" title="Lectio">LyricSentence</a> -&gt; <a href="Lectio.html#t:LyricSentence" title="Lectio">LyricSentence</a> -&gt; <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-60--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62-">(&gt;)</a> :: <a href="Lectio.html#t:LyricSentence" title="Lectio">LyricSentence</a> -&gt; <a href="Lectio.html#t:LyricSentence" title="Lectio">LyricSentence</a> -&gt; <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-62-" class="selflink">#</a></p><p class="src"><a href="#v:-62--61-">(&gt;=)</a> :: <a href="Lectio.html#t:LyricSentence" title="Lectio">LyricSentence</a> -&gt; <a href="Lectio.html#t:LyricSentence" title="Lectio">LyricSentence</a> -&gt; <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-62--61-" class="selflink">#</a></p><p class="src"><a href="#v:max">max</a> :: <a href="Lectio.html#t:LyricSentence" title="Lectio">LyricSentence</a> -&gt; <a href="Lectio.html#t:LyricSentence" title="Lectio">LyricSentence</a> -&gt; <a href="Lectio.html#t:LyricSentence" title="Lectio">LyricSentence</a> <a href="#v:max" class="selflink">#</a></p><p class="src"><a href="#v:min">min</a> :: <a href="Lectio.html#t:LyricSentence" title="Lectio">LyricSentence</a> -&gt; <a href="Lectio.html#t:LyricSentence" title="Lectio">LyricSentence</a> -&gt; <a href="Lectio.html#t:LyricSentence" title="Lectio">LyricSentence</a> <a href="#v:min" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:LyricSentence:Show:3"></span> <a href="../base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Lectio.html#t:LyricSentence" title="Lectio">LyricSentence</a></span> <a href="src/Lectio.html#line-287" class="link">Source</a> <a href="#t:LyricSentence" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:LyricSentence:Show:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Lectio.html">Lectio</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Lectio.html#t:LyricSentence" title="Lectio">LyricSentence</a> -&gt; <a href="../base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Lectio.html#t:LyricSentence" title="Lectio">LyricSentence</a> -&gt; <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Lectio.html#t:LyricSentence" title="Lectio">LyricSentence</a>] -&gt; <a href="../base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><a href="#g:8" id="g:8"><h2><code>LyricSection</code>: Multiple sentences with parameters for text-setting</h2></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:LyricSection" class="def">LyricSection</a> <a href="src/Lectio.html#LyricSection" class="link">Source</a> <a href="#t:LyricSection" class="selflink">#</a></p><div class="doc"><p>A <code><a href="Lectio.html#t:LyricSection" title="Lectio">LyricSection</a></code> includes a list of <code><a href="Lectio.html#t:LyricSentence" title="Lectio">LyricSentence</a></code>s and an <code><a href="Aedifico.html#t:ArkConfig" title="Aedifico">ArkConfig</a></code>.</p><p>Including an <code><a href="Aedifico.html#t:ArkConfig" title="Aedifico">ArkConfig</a></code> structure makes it possible to structure the input
 text and program the ark to change meters or tones for different sections. </p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:LyricSection" class="def">LyricSection</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:sectionConfig" class="def">sectionConfig</a> :: <a href="Aedifico.html#t:ArkConfig" title="Aedifico">ArkConfig</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:sentences" class="def">sentences</a> :: [<a href="Lectio.html#t:LyricSentence" title="Lectio">LyricSentence</a>]</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><details id="i:LyricSection" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:LyricSection:Eq:1"></span> <a href="../base-4.12.0.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="Lectio.html#t:LyricSection" title="Lectio">LyricSection</a></span> <a href="src/Lectio.html#line-298" class="link">Source</a> <a href="#t:LyricSection" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:LyricSection:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Lectio.html">Lectio</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Lectio.html#t:LyricSection" title="Lectio">LyricSection</a> -&gt; <a href="Lectio.html#t:LyricSection" title="Lectio">LyricSection</a> -&gt; <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Lectio.html#t:LyricSection" title="Lectio">LyricSection</a> -&gt; <a href="Lectio.html#t:LyricSection" title="Lectio">LyricSection</a> -&gt; <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:LyricSection:Ord:2"></span> <a href="../base-4.12.0.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> <a href="Lectio.html#t:LyricSection" title="Lectio">LyricSection</a></span> <a href="src/Lectio.html#line-298" class="link">Source</a> <a href="#t:LyricSection" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:LyricSection:Ord:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Lectio.html">Lectio</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:compare">compare</a> :: <a href="Lectio.html#t:LyricSection" title="Lectio">LyricSection</a> -&gt; <a href="Lectio.html#t:LyricSection" title="Lectio">LyricSection</a> -&gt; <a href="../base-4.12.0.0/Data-Ord.html#t:Ordering" title="Data.Ord">Ordering</a> <a href="#v:compare" class="selflink">#</a></p><p class="src"><a href="#v:-60-">(&lt;)</a> :: <a href="Lectio.html#t:LyricSection" title="Lectio">LyricSection</a> -&gt; <a href="Lectio.html#t:LyricSection" title="Lectio">LyricSection</a> -&gt; <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-60-" class="selflink">#</a></p><p class="src"><a href="#v:-60--61-">(&lt;=)</a> :: <a href="Lectio.html#t:LyricSection" title="Lectio">LyricSection</a> -&gt; <a href="Lectio.html#t:LyricSection" title="Lectio">LyricSection</a> -&gt; <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-60--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62-">(&gt;)</a> :: <a href="Lectio.html#t:LyricSection" title="Lectio">LyricSection</a> -&gt; <a href="Lectio.html#t:LyricSection" title="Lectio">LyricSection</a> -&gt; <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-62-" class="selflink">#</a></p><p class="src"><a href="#v:-62--61-">(&gt;=)</a> :: <a href="Lectio.html#t:LyricSection" title="Lectio">LyricSection</a> -&gt; <a href="Lectio.html#t:LyricSection" title="Lectio">LyricSection</a> -&gt; <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-62--61-" class="selflink">#</a></p><p class="src"><a href="#v:max">max</a> :: <a href="Lectio.html#t:LyricSection" title="Lectio">LyricSection</a> -&gt; <a href="Lectio.html#t:LyricSection" title="Lectio">LyricSection</a> -&gt; <a href="Lectio.html#t:LyricSection" title="Lectio">LyricSection</a> <a href="#v:max" class="selflink">#</a></p><p class="src"><a href="#v:min">min</a> :: <a href="Lectio.html#t:LyricSection" title="Lectio">LyricSection</a> -&gt; <a href="Lectio.html#t:LyricSection" title="Lectio">LyricSection</a> -&gt; <a href="Lectio.html#t:LyricSection" title="Lectio">LyricSection</a> <a href="#v:min" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:LyricSection:Show:3"></span> <a href="../base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Lectio.html#t:LyricSection" title="Lectio">LyricSection</a></span> <a href="src/Lectio.html#line-298" class="link">Source</a> <a href="#t:LyricSection" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:LyricSection:Show:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Lectio.html">Lectio</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Lectio.html#t:LyricSection" title="Lectio">LyricSection</a> -&gt; <a href="../base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Lectio.html#t:LyricSection" title="Lectio">LyricSection</a> -&gt; <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Lectio.html#t:LyricSection" title="Lectio">LyricSection</a>] -&gt; <a href="../base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><a href="#g:9" id="g:9"><h3>Get phrase lengths for prepared text</h3></a><div class="top"><p class="src"><a id="v:sectionPhraseLengths" class="def">sectionPhraseLengths</a> :: <a href="Lectio.html#t:LyricSection" title="Lectio">LyricSection</a> -&gt; <a href="Lectio.html#t:PhrasesInLyricSection" title="Lectio">PhrasesInLyricSection</a> <a href="src/Lectio.html#sectionPhraseLengths" class="link">Source</a> <a href="#v:sectionPhraseLengths" class="selflink">#</a></p><div class="doc"><p>Get the number of phrases per sentence for a whole section.</p></div></div><div class="top"><p class="src"><a id="v:inputPhraseLengths" class="def">inputPhraseLengths</a> :: [<a href="Lectio.html#t:LyricSection" title="Lectio">LyricSection</a>] -&gt; [<a href="Lectio.html#t:PhrasesInLyricSection" title="Lectio">PhrasesInLyricSection</a>] <a href="src/Lectio.html#inputPhraseLengths" class="link">Source</a> <a href="#v:inputPhraseLengths" class="selflink">#</a></p><div class="doc"><p>Get the phrase lengths for the whole input structure</p></div></div><a href="#g:10" id="g:10"><h2>Methods to read and store textual data into the above structures</h2></a><div class="top"><p class="src"><a id="v:newLyricSentence" class="def">newLyricSentence</a> :: [<a href="Lectio.html#t:LyricPhrase" title="Lectio">LyricPhrase</a>] -&gt; <a href="Lectio.html#t:LyricSentence" title="Lectio">LyricSentence</a> <a href="src/Lectio.html#newLyricSentence" class="link">Source</a> <a href="#v:newLyricSentence" class="selflink">#</a></p><div class="doc"><p>Make a <code><a href="Lectio.html#t:LyricSentence" title="Lectio">LyricSentence</a></code> from a list of <code><a href="Lectio.html#t:LyricPhrase" title="Lectio">LyricPhrase</a></code>s.</p></div></div><div class="top"><p class="src"><a id="v:newLyricPhrase" class="def">newLyricPhrase</a> :: [<a href="Lectio.html#t:Verbum" title="Lectio">Verbum</a>] -&gt; <a href="Lectio.html#t:LyricPhrase" title="Lectio">LyricPhrase</a> <a href="src/Lectio.html#newLyricPhrase" class="link">Source</a> <a href="#v:newLyricPhrase" class="selflink">#</a></p><div class="doc"><p>Take a simple list of <code><a href="Lectio.html#t:Verbum" title="Lectio">Verbum</a></code> items and make a <code><a href="Lectio.html#t:LyricPhrase" title="Lectio">LyricPhrase</a></code> structure from
 it: the original list is stored as <code><a href="Lectio.html#v:phraseText" title="Lectio">phraseText</a></code>, and the <code><a href="Lectio.html#v:phraseSylCount" title="Lectio">phraseSylCount</a></code>
 and <code><a href="Lectio.html#v:phrasePenultLength" title="Lectio">phrasePenultLength</a></code> are calculated from that list.
 The <code><a href="Lectio.html#v:phraseSylCount" title="Lectio">phraseSylCount</a></code> is the sum of all the <code><a href="Lectio.html#v:sylCount" title="Lectio">sylCount</a></code>s of the words in the
 list. The <code><a href="Lectio.html#v:phrasePenultLength" title="Lectio">phrasePenultLength</a></code> is the <code><a href="Lectio.html#v:penultLength" title="Lectio">penultLength</a></code> of the last list item.</p></div></div><div class="top"><p class="src"><a id="v:newVerbum" class="def">newVerbum</a> :: <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="Lectio.html#t:Verbum" title="Lectio">Verbum</a> <a href="src/Lectio.html#newVerbum" class="link">Source</a> <a href="#v:newVerbum" class="selflink">#</a></p><div class="doc"><p>Take a <code><a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a></code> and create a <code><a href="Lectio.html#t:Verbum" title="Lectio">Verbum</a></code> structure:</p><ul><li>strip the text of diacritics by removing <code><a href="Lectio.html#v:hyphenChar" title="Lectio">hyphenChar</a></code> and <code><a href="Lectio.html#v:accentChar" title="Lectio">accentChar</a></code> characters</li><li>extract syllables by stripping accents and splitting at hyphens</li><li>get syllable count from list created in previous step</li><li>get penultimate syllable length from list of syllables <em>including</em>
  accents, using <code><a href="Lectio.html#v:penultValue" title="Lectio">penultValue</a></code></li></ul></div></div><a href="#g:11" id="g:11"><h3>Helper methods for parsing</h3></a><div class="top"><p class="src"><a id="v:penultValue" class="def">penultValue</a> :: [<a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a>] -&gt; <a href="Lectio.html#t:SylLen" title="Lectio">SylLen</a> <a href="src/Lectio.html#penultValue" class="link">Source</a> <a href="#v:penultValue" class="selflink">#</a></p><div class="doc"><p>Determine the length of the next-to-last in a list of strings.
 If the list length is 1 or shorter, or if there is no <code><a href="Lectio.html#v:accentChar" title="Lectio">accentChar</a></code> at the
 beginning of the penultimate syllable (found using <code><a href="Lectio.html#v:penult" title="Lectio">penult</a></code>), then the
 result is <code><a href="Aedifico.html#v:Short" title="Aedifico">Short</a></code>; otherwise <code><a href="Aedifico.html#v:Long" title="Aedifico">Long</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:penult" class="def">penult</a> :: [a] -&gt; <a href="../base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> a <a href="src/Lectio.html#penult" class="link">Source</a> <a href="#v:penult" class="selflink">#</a></p><div class="doc"><p>Return the next-to-last item in a list.</p></div></div><a href="#g:12" id="g:12"><h2>Grouping prose</h2></a><div class="top"><p class="src"><a id="v:rephrase" class="def">rephrase</a> <a href="src/Lectio.html#rephrase" class="link">Source</a> <a href="#v:rephrase" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a></td><td class="doc"><p>maximum syllable count per group</p></td></tr><tr><td class="src">-&gt; <a href="Lectio.html#t:LyricPhrase" title="Lectio">LyricPhrase</a></td><td class="doc"><p>text already parsed into a <code><a href="Lectio.html#t:LyricPhrase" title="Lectio">LyricPhrase</a></code></p></td></tr><tr><td class="src">-&gt; [<a href="Lectio.html#t:LyricPhrase" title="Lectio">LyricPhrase</a>]</td><td class="doc"><p>old phrase broken into list of phrases</p></td></tr></table></div><div class="doc"><p>Regroup a phrase int groups of words with total syllable count in each
 group not to exceed a given maximum.</p><p><strong>TODO</strong>: Replace with more sophisticated algorithm:
      - what to do if word is longer than maxSyllables? (break it into
      parts?)
      - optimize this for best grouping, not just most convenient in-order</p></div></div><a href="#g:13" id="g:13"><h1>Read the whole text </h1></a><div class="top"><p class="src"><a id="v:prepareInput" class="def">prepareInput</a> :: <a href="Lectio.html#t:ArkInput" title="Lectio">ArkInput</a> -&gt; [<a href="Lectio.html#t:LyricSection" title="Lectio">LyricSection</a>] <a href="src/Lectio.html#prepareInput" class="link">Source</a> <a href="#v:prepareInput" class="selflink">#</a></p><div class="doc"><p>Prepare the entire input structure</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>